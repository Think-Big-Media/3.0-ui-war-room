/**
 * War Room Platform - Global Styles
 * Using Tailwind CSS for utility-first styling
 */

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Base font size optimized for 95% browser scaling */
    font-size: 16.5px; /* Adjusted for 95% zoom - larger text */

    /* Glassmorphic theme - transparent with subtle tints */
    --background: 249 250 251; /* gray-50 base */
    --foreground: 15 23 42; /* slate-800 */
    --card: 255 255 255 / 0.1; /* White with 10% opacity for glass effect */
    --card-foreground: 15 23 42;
    --popover: 255 255 255 / 0.95; /* More opaque for readability */
    --popover-foreground: 15 23 42;
    --primary: 59 130 246; /* blue-500 */
    --primary-foreground: 248 250 252; /* slate-50 */
    --secondary: 148 163 184 / 0.1; /* slate-400 with transparency */
    --secondary-foreground: 30 41 59; /* slate-800 */
    --muted: 148 163 184 / 0.1; /* slate-400 with transparency */
    --muted-foreground: 100 116 139; /* slate-500 */
    --accent: 168 85 247 / 0.1; /* purple-500 with transparency */
    --accent-foreground: 30 41 59; /* slate-800 */
    --destructive: 239 68 68; /* red-500 */
    --destructive-foreground: 248 250 252;
    --border: 226 232 240 / 0.2; /* slate-200 with transparency */
    --input: 226 232 240 / 0.3; /* slate-200 with transparency */
    --ring: 59 130 246; /* blue-500 */
    --radius: 1rem; /* 16px - matches rounded-2xl for glass effect */
  }

  .dark {
    --background: 2 6 23; /* slate-950 */
    --foreground: 248 250 252;
    --card: 0 0 0 / 0.2; /* Black with 20% opacity for dark glass */
    --card-foreground: 248 250 252;
    --popover: 2 6 23; /* slate-950 */
    --popover-foreground: 248 250 252;
    --primary: 168 85 247; /* purple-500 for dark mode accent */
    --primary-foreground: 15 23 42;
    --secondary: 30 41 59 / 0.3; /* slate-800 with transparency */
    --secondary-foreground: 226 232 240;
    --muted: 30 41 59 / 0.3;
    --muted-foreground: 148 163 184;
    --accent: 249 115 22 / 0.2; /* orange-500 with transparency */
    --accent-foreground: 248 250 252;
    --destructive: 220 38 38;
    --destructive-foreground: 248 250 252;
    --border: 30 41 59 / 0.3;
    --input: 30 41 59 / 0.3;
    --ring: 168 85 247;
  }
}

/* Custom global styles */
@layer base {
  /* Set default font and background */
  body {
    @apply font-body antialiased bg-gray-50 text-gray-900;
    /* letter-spacing reverted to default - no global override */
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Heading styles - Using Inter for content headings, Barlow Condensed for display */
  h1 {
    @apply text-4xl font-bold font-sans tracking-tight;
  }

  h2 {
    @apply text-3xl font-semibold font-sans tracking-tight;
  }

  h3 {
    @apply text-2xl font-semibold font-sans;
  }

  h4 {
    @apply text-xl font-medium font-sans;
  }

  h5 {
    @apply text-lg font-medium font-sans;
  }

  h6 {
    @apply text-base font-medium font-sans;
  }

  /* Interface elements use JetBrains Mono */
  button,
  input,
  select,
  textarea {
    @apply font-mono text-sm;
    letter-spacing: -0.025em; /* Tighter spacing for mono font */
  }

  /* Code and technical text */
  code,
  kbd,
  samp,
  pre {
    @apply font-mono text-sm;
  }

  /* Labels and small UI text */
  label,
  .label {
    @apply font-mono text-xs uppercase tracking-wider;
  }

  /* Navigation items */
  nav a,
  .nav-item {
    @apply font-mono text-sm font-medium;
  }

  /* Status badges, metrics */
  .badge,
  .metric,
  .stat {
    @apply font-mono text-xs;
  }

  /* Data tables */
  table th {
    @apply font-mono text-xs uppercase tracking-wider;
  }

  table td {
    @apply font-sans;
  }

  /* Content text areas - mentions, news, polling data, etc. */
  .content-text,
  .mention-text,
  .news-text,
  .feed-text {
    @apply font-sans;
  }

  /* Paragraphs and content areas */
  p,
  .text-content {
    @apply font-sans;
  }

  /* Sub-headlines and section titles */
  .section-title,
  .sub-headline {
    @apply font-condensed;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Technical labels and metadata */
  .technical-label,
  .metadata-text {
    @apply font-mono text-xs;
  }

  /* Action buttons and interactive labels */
  .action-button,
  .interactive-label {
    @apply font-mono text-xs;
  }
}

/* Custom component styles */
@layer components {
  /* Page-accent theming CSS variables */
  .page-dashboard {
    --page-accent: #6366f1; /* indigo-500 */
  }

  .page-monitoring {
    --page-accent: #22c55e; /* green-500 */
  }

  .page-warroom {
    --page-accent: #ef4444; /* red-500 */
  }

  .page-intelligence {
    --page-accent: #3b82f6; /* blue-500 */
  }

  .page-alerts {
    --page-accent: #f59e0b; /* amber-500 */
  }

  .page-settings {
    --page-accent: #a855f7; /* purple-500 */
  }

  /* Navigation active state classes using CSS variables */
  .nav-active-bg {
    background-color: rgba(255, 255, 255, 0.1);
  }

  .nav-active-icon {
    color: var(--page-accent);
  }

  /* Hoverable border system - replaces transform/scale with border-color changes */
  .hoverable {
    @apply transition-all duration-200 ease-out;
    transition-property: border-color, background-color;
  }

  .hoverable:hover {
    border-color: var(--page-accent);
  }

  /* Targeted word spacing for specific nav labels */
  .nav-label {
    word-spacing: 0.15em;
  }

  /* Card titles should use Inter for content readability */
  .card-title {
    @apply font-sans font-semibold text-lg;
  }

  /* Sidebar and menu items */
  .sidebar-item,
  .menu-item {
    @apply font-mono text-sm;
  }

  /* Dashboard metrics and numbers */
  .metric-value {
    @apply font-mono font-semibold;
  }

  .metric-label {
    @apply font-mono text-xs uppercase tracking-wider opacity-75;
  }

  @layer components {
    /* Primary button style - Using JetBrains Mono */
    .btn-primary {
      @apply px-4 py-2 bg-blue-600 text-white font-mono font-medium text-sm rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200;
    }

    /* Secondary button style */
    .btn-secondary {
      @apply px-4 py-2 bg-gray-200 text-gray-800 font-medium rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200;
    }

    /* Secondary Alert button style - for urgent actions */
    .btn-secondary-alert {
      @apply bg-red-500/20 hover:bg-red-500/30 text-red-400 px-3 py-0.5 rounded-lg transition-colors duration-200 font-mono text-sm uppercase whitespace-nowrap text-center;
    }

    /* Secondary Action button style - for primary actions */
    .btn-secondary-action {
      @apply bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 px-3 py-0.5 rounded-lg transition-colors duration-200 font-mono text-sm uppercase whitespace-nowrap text-center;
    }

    /* Secondary Neutral button style - for general actions */
    .btn-secondary-neutral {
      @apply bg-white/10 hover:bg-white/20 text-white/70 hover:text-white px-6 py-0.5 rounded-lg transition-colors duration-200 font-mono text-sm uppercase whitespace-nowrap text-center;
    }

    /* Primary Alert button style - bigger urgent actions */
    .btn-primary-alert {
      @apply bg-red-500/20 hover:bg-red-500/30 text-red-400 px-6 py-3 rounded-xl transition-colors duration-200 font-mono text-base uppercase text-center;
    }

    /* Primary Action button style - bigger primary actions */
    .btn-primary-action {
      @apply bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 px-6 py-3 rounded-xl transition-colors duration-200 font-mono text-base uppercase text-center;
    }

    /* Primary Neutral button style - bigger general actions */
    .btn-primary-neutral {
      @apply bg-white/10 hover:bg-white/20 text-white/70 hover:text-white px-6 py-3 rounded-xl transition-colors duration-200 font-mono text-base uppercase text-center;
    }
  }

  /* Section Header - Major headings across the site */
  .section-header {
    @apply text-white/50 uppercase;
    font:
      600 20px/29px 'Barlow Condensed',
      sans-serif;
  }

  /* Content Typography Classes */
  .content-subtitle {
    @apply text-white/50;
    font-family: 'Barlow Condensed', sans-serif;
    font-size: 13px;
    line-height: 17px;
    margin-top: -1px;
  }

  @media (min-width: 1024px) {
    .content-subtitle {
      font-size: 15px;
      line-height: 19px;
    }
  }

  .content-title {
    @apply text-white/95;
    font-family: 'Barlow Semi Condensed', sans-serif;
    font-weight: 500;
    font-size: 15px;
    line-height: 19px;
  }

  @media (min-width: 1024px) {
    .content-title {
      font-size: 17px;
      line-height: 21px;
    }
  }

  .status-indicator {
    @apply text-xs font-mono uppercase;
    font-family: 'JetBrains Mono', monospace;
  }

  /* Footer text - always uppercase JetBrains Mono */
  .footer-text {
    @apply text-xs font-mono uppercase;
    font-family: 'JetBrains Mono', monospace;
  }

  /* Color-coded status indicators */
  .status-active {
    @apply text-green-400;
  }

  .status-running {
    @apply text-blue-400;
  }

  .status-planning {
    @apply text-yellow-400;
  }

  /* Icon alignment in buttons - move up 2px for better alignment */
  .btn-secondary-alert svg,
  .btn-secondary-action svg,
  .btn-secondary-neutral svg,
  .btn-primary-alert svg,
  .btn-primary-action svg,
  .btn-primary-neutral svg {
    @apply -mt-0.5;
  }

  /* Revert global button spacing - remove word-spacing override */
  button {
    letter-spacing: -0.05em !important;
    /* word-spacing reverted to default - no global override */
  }

  /* Form input style */
  .form-input {
    @apply block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm;
  }

  /* War Room input style - 70% opacity background, gray text for transparency */
  .war-room-input {
    @apply w-full bg-white/70 rounded-xl px-4 py-2.5 border border-slate-200 text-gray-600 placeholder-slate-400 focus:border-slate-500 focus:outline-none focus:ring-0 transition-colors duration-200;
  }

  /* War Room select style - 70% opacity background, gray text for transparency */
  .war-room-select {
    @apply w-full bg-white/70 rounded-xl px-4 py-2.5 border border-slate-200 text-gray-600 focus:border-slate-500 focus:outline-none focus:ring-0 transition-colors duration-200 appearance-none cursor-pointer;
  }

  /* War Room sub-headline style - 60% opacity, moved up 3px (STANDARDIZED) */
  .war-room-subheading {
    @apply text-white/60 font-condensed tracking-wide -mt-1;
  }

  /* Container spacing fix - optimized bottom spacing (21px = pb-5) */
  .space-with-bottom {
    @apply pb-5;
  }

  /* Icon alignment fix - 2px down to align with headline baselines */
  .war-room-icon-aligned {
    @apply mt-0.5;
  }

  /* Content indentation - 10px from box edges */
  .war-room-content-indent {
    @apply ml-2.5;
  }

  /* Card component */
  .card {
    @apply bg-white overflow-hidden shadow rounded-lg;
  }

  /* Card header */
  .card-header {
    @apply px-4 py-5 sm:px-6 border-b border-gray-200;
  }

  /* Card body */
  .card-body {
    @apply px-4 py-5 sm:p-6;
  }
}

/* Custom utilities */
@layer utilities {
  /* Navigation text wrapping fix for 80% browser scaling */
  nav button span {
    @apply whitespace-nowrap overflow-hidden text-ellipsis;
  }

  /* Scroll fade effects - fades content itself, no overlays */
  .scroll-fade {
    mask: linear-gradient(
        to bottom,
        transparent 0%,
        black 24px,
        black calc(100% - 24px),
        transparent 100%
      )
      no-repeat;
    -webkit-mask: linear-gradient(
        to bottom,
        transparent 0%,
        black 24px,
        black calc(100% - 24px),
        transparent 100%
      )
      no-repeat;
    mask-composite: intersect;
    -webkit-mask-composite: source-in;
  }

  /* Subtle fade variant with less fade distance */
  .scroll-fade-subtle {
    mask: linear-gradient(
        to bottom,
        transparent 0%,
        black 16px,
        black calc(100% - 16px),
        transparent 100%
      )
      no-repeat;
    -webkit-mask: linear-gradient(
        to bottom,
        transparent 0%,
        black 16px,
        black calc(100% - 16px),
        transparent 100%
      )
      no-repeat;
    mask-composite: intersect;
    -webkit-mask-composite: source-in;
  }

  /* Strong fade variant for dark backgrounds */
  .scroll-fade-strong {
    mask: linear-gradient(
        to bottom,
        transparent 0%,
        black 32px,
        black calc(100% - 32px),
        transparent 100%
      )
      no-repeat;
    -webkit-mask: linear-gradient(
        to bottom,
        transparent 0%,
        black 32px,
        black calc(100% - 32px),
        transparent 100%
      )
      no-repeat;
    mask-composite: intersect;
    -webkit-mask-composite: source-in;
  }

  /* Animations */
  .animate-fade-in {
    animation: fadeIn 0.3s ease-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(8px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Loading spinner */
  .spinner {
    @apply inline-block w-8 h-8 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin;
  }

  /* Performance optimized utilities */
  .gpu-accelerated {
    transform: translateZ(0);
    will-change: transform;
  }

  .hover-lift {
    @apply transition-transform duration-200 ease-out;
  }

  .hover-lift:hover {
    transform: translateY(-2px) translateZ(0);
    will-change: transform;
  }
}

/* Override Tailwind's default focus styles for better accessibility */
.focus-visible:focus {
  @apply outline-none ring-2 ring-offset-2 ring-blue-500;
}

/* Ensure proper stacking context for modals */
#modal-root {
  @apply relative z-50;
}

/* Reduced motion for accessibility */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
